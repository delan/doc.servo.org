<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Rounds a span consisting of only invariant units."><title>round_span_invariant in jiff::span - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="jiff" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)" data-channel="1.91.0" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">round_span_invariant</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../jiff/index.html">jiff</a><span class="version">0.2.18</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In jiff::<wbr>span</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">jiff</a>::<wbr><a href="index.html">span</a></div><h1>Function <span class="fn">round_<wbr>span_<wbr>invariant</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/jiff/span.rs.html#6683-6697">Source</a> </span></div><pre class="rust item-decl"><code>fn round_span_invariant(
    span: <a class="struct" href="../struct.Span.html" title="struct jiff::Span">Span</a>,
    smallest: <a class="enum" href="../enum.Unit.html" title="enum jiff::Unit">Unit</a>,
    largest: <a class="enum" href="../enum.Unit.html" title="enum jiff::Unit">Unit</a>,
    increment: <a class="struct" href="../util/rangeint/struct.ri128.html" title="struct jiff::util::rangeint::ri128">ri128</a>&lt;{ i128::MIN }, { i128::MAX }&gt;,
    mode: <a class="enum" href="../enum.RoundMode.html" title="enum jiff::RoundMode">RoundMode</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.Span.html" title="struct jiff::Span">Span</a>, <a class="struct" href="../struct.Error.html" title="struct jiff::Error">Error</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Rounds a span consisting of only invariant units.</p>
<p>This only applies when the max of the units in the span being rounded,
the largest configured unit and the smallest configured unit are all
invariant. That is, days or lower for spans without a relative datetime or
a relative civil datetime, and hours or lower for spans with a relative
zoned datetime.</p>
<p>All we do here is convert the span to an integer number of nanoseconds,
round that and then convert back. There arenâ€™t any tricky corner cases to
consider here.</p>
</div></details></section></div></main></body></html>