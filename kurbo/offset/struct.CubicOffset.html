<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="State used for computing an offset curve of a single cubic."><title>CubicOffset in kurbo::offset - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="kurbo" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)" data-channel="1.91.0" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">CubicOffset</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../kurbo/index.html">kurbo</a><span class="version">0.12.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Cubic<wbr>Offset</a></h2><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.c" title="c">c</a></li><li><a href="#structfield.c0" title="c0">c0</a></li><li><a href="#structfield.c1" title="c1">c1</a></li><li><a href="#structfield.c2" title="c2">c2</a></li><li><a href="#structfield.d" title="d">d</a></li><li><a href="#structfield.q" title="q">q</a></li><li><a href="#structfield.tolerance" title="tolerance">tolerance</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.apply" title="apply">apply</a></li><li><a href="#method.cusp_sign" title="cusp_sign">cusp_sign</a></li><li><a href="#method.draw_arc" title="draw_arc">draw_arc</a></li><li><a href="#method.endpoint_cusp" title="endpoint_cusp">endpoint_cusp</a></li><li><a href="#method.eval_err" title="eval_err">eval_err</a></li><li><a href="#method.find_subdivision_point" title="find_subdivision_point">find_subdivision_point</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.offset_rec" title="offset_rec">offset_rec</a></li><li><a href="#method.refine_least_squares" title="refine_least_squares">refine_least_squares</a></li><li><a href="#method.subdivide" title="subdivide">subdivide</a></li><li><a href="#method.subdivide_for_tangent" title="subdivide_for_tangent">subdivide_for_tangent</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-CubicOffset" title="Freeze">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-CubicOffset" title="RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Send-for-CubicOffset" title="Send">Send</a></li><li><a href="#impl-Sync-for-CubicOffset" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-CubicOffset" title="Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe-for-CubicOffset" title="UnwindSafe">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In kurbo::<wbr>offset</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">kurbo</a>::<wbr><a href="index.html">offset</a></div><h1>Struct <span class="struct">Cubic<wbr>Offset</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/kurbo/offset.rs.html#20-38">Source</a> </span></div><pre class="rust item-decl"><code>struct CubicOffset {
    c: <a class="struct" href="../struct.CubicBez.html" title="struct kurbo::CubicBez">CubicBez</a>,
    q: <a class="struct" href="../struct.QuadBez.html" title="struct kurbo::QuadBez">QuadBez</a>,
    d: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    c0: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    c1: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    c2: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    tolerance: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>State used for computing an offset curve of a single cubic.</p>
</div></details><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.c" class="structfield section-header"><a href="#structfield.c" class="anchor field">§</a><code>c: <a class="struct" href="../struct.CubicBez.html" title="struct kurbo::CubicBez">CubicBez</a></code></span><div class="docblock"><p>The cubic being offset. This has been regularized.</p>
</div><span id="structfield.q" class="structfield section-header"><a href="#structfield.q" class="anchor field">§</a><code>q: <a class="struct" href="../struct.QuadBez.html" title="struct kurbo::QuadBez">QuadBez</a></code></span><div class="docblock"><p>The derivative of <code>c</code>.</p>
</div><span id="structfield.d" class="structfield section-header"><a href="#structfield.d" class="anchor field">§</a><code>d: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a></code></span><div class="docblock"><p>The offset distance (same as the argument).</p>
</div><span id="structfield.c0" class="structfield section-header"><a href="#structfield.c0" class="anchor field">§</a><code>c0: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a></code></span><div class="docblock"><p><code>c0 + c1 t + c2 t^2</code> is the cross product of second and first
derivatives of the underlying cubic, multiplied by the offset.
This is used for computing cusps on the offset curve.</p>
<p>Note that given a curve <code>c(t)</code>, its signed curvature is
<code>c''(t) x c'(t) / ||c'(t)||^3</code>. See also <a href="struct.CubicOffset.html#method.cusp_sign" title="method kurbo::offset::CubicOffset::cusp_sign"><code>Self::cusp_sign</code></a>.</p>
</div><span id="structfield.c1" class="structfield section-header"><a href="#structfield.c1" class="anchor field">§</a><code>c1: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a></code></span><span id="structfield.c2" class="structfield section-header"><a href="#structfield.c2" class="anchor field">§</a><code>c2: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a></code></span><span id="structfield.tolerance" class="structfield section-header"><a href="#structfield.tolerance" class="anchor field">§</a><code>tolerance: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a></code></span><div class="docblock"><p>The tolerance (same as the argument).</p>
</div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-CubicOffset" class="impl"><a class="src rightside" href="../../src/kurbo/offset.rs.html#133-578">Source</a><a href="#impl-CubicOffset" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.CubicOffset.html" title="struct kurbo::offset::CubicOffset">CubicOffset</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#135-150">Source</a><h4 class="code-header">fn <a href="#method.new" class="fn">new</a>(c: <a class="struct" href="../struct.CubicBez.html" title="struct kurbo::CubicBez">CubicBez</a>, d: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>, tolerance: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new curve from Bézier segment and offset.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.cusp_sign" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#162-165">Source</a><h4 class="code-header">fn <a href="#method.cusp_sign" class="fn">cusp_sign</a>(&amp;self, t: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a></h4></section></summary><div class="docblock"><p>Compute curvature of the source curve times offset plus 1.</p>
<p>This quantity is called “cusp” because cusps appear in the offset curve
where this value crosses zero. This is based on the geometric property
that the offset curve has a cusp when the radius of curvature of the
source curve is equal to the offset curve’s distance.</p>
<p>Note: there is a potential division by zero when the derivative vanishes.
We avoid doing so for interior points by regularizing the cubic beforehand.
We avoid doing so for endpoints by calling <code>endpoint_cusp</code> instead.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.endpoint_cusp" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#176-182">Source</a><h4 class="code-header">fn <a href="#method.endpoint_cusp" class="fn">endpoint_cusp</a>(&amp;self, tan: <a class="struct" href="../struct.Point.html" title="struct kurbo::Point">Point</a>, y: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a></h4></section></summary><div class="docblock"><p>Compute cusp value of endpoint.</p>
<p>This is a special case of <a href="struct.CubicOffset.html#method.cusp_sign" title="method kurbo::offset::CubicOffset::cusp_sign"><code>Self::cusp_sign</code></a>. For the start point, <code>tan</code> should be
the start point tangent and <code>y</code> should be <code>c0</code>. For the end point, <code>tan</code> should be
the end point tangent and <code>y</code> should be <code>c0 + c1 + c2</code>.</p>
<p>This is just evaluating the polynomial at t=0 and t=1.</p>
<p>See <a href="struct.CubicOffset.html#method.cusp_sign" title="method kurbo::offset::CubicOffset::cusp_sign"><code>Self::cusp_sign</code></a> for a description of what “cusp value” means.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.offset_rec" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#190-255">Source</a><h4 class="code-header">fn <a href="#method.offset_rec" class="fn">offset_rec</a>(&amp;self, rec: &amp;<a class="struct" href="struct.OffsetRec.html" title="struct kurbo::offset::OffsetRec">OffsetRec</a>, result: &amp;mut <a class="struct" href="../struct.BezPath.html" title="struct kurbo::BezPath">BezPath</a>)</h4></section></summary><div class="docblock"><p>Primary entry point for recursive subdivision.</p>
<p>At a high level, this method determines whether subdivision is necessary. If
so, it determines a subdivision point and then recursively calls itself on
both subdivisions. If not, it computes a single cubic Bézier to approximate
the offset curve, and appends it to <code>result</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.subdivide" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#267-296">Source</a><h4 class="code-header">fn <a href="#method.subdivide" class="fn">subdivide</a>(
    &amp;self,
    rec: &amp;<a class="struct" href="struct.OffsetRec.html" title="struct kurbo::offset::OffsetRec">OffsetRec</a>,
    result: &amp;mut <a class="struct" href="../struct.BezPath.html" title="struct kurbo::BezPath">BezPath</a>,
    t: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    utan_t: <a class="struct" href="../struct.Vec2.html" title="struct kurbo::Vec2">Vec2</a>,
    cusp_t_minus: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    cusp_t_plus: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
)</h4></section></summary><div class="docblock"><p>Recursively subdivide.</p>
<p>In the case of subdividing at a cusp, the cusp value at the subdivision point
is mathematically zero, but in those cases we treat it as a signed infinitesimal
value representing the values at t minus epsilon and t plus epsilon.</p>
<p>Note that unit tangents are passed down explicitly. In the general case, they
are equal to the derivative (evaluated at that t value) normalized to unit
length, but in cases where the derivative is near-zero, they are computed more
robustly.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.apply" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#316-333">Source</a><h4 class="code-header">fn <a href="#method.apply" class="fn">apply</a>(&amp;self, rec: &amp;<a class="struct" href="struct.OffsetRec.html" title="struct kurbo::offset::OffsetRec">OffsetRec</a>, a: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>, b: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>) -&gt; <a class="struct" href="../struct.CubicBez.html" title="struct kurbo::CubicBez">CubicBez</a></h4></section></summary><div class="docblock"><p>Convert from (a, b) parameter space to the approximate cubic Bézier.</p>
<p>The offset approximation can be considered <code>B(t) + d * D(t)</code>, where <code>D(t)</code>
is roughly a unit vector in the direction of the unit normal of the source
curve. (The word “roughly” is appropriate because transverse error may
cancel out normal error, resulting in a lower error than either alone).
The endpoints of <code>D(t)</code> must be the unit normals of the source curve, and
the endpoint tangents of <code>D(t)</code> must tangent to the endpoint tangents of
the source curve, to ensure G1 continuity.</p>
<p>The (a, b) parameters refer to the magnitude of the vector from the endpoint
to the corresponding control point in <code>D(t)</code>, the direction being determined
by the unit tangent.</p>
<p>When the candidate solution would lead to negative distance from the
endpoint to the control point, that distance is clamped to zero. Otherwise
such solutions should be considered invalid, and have the unpleasant
property of sometimes passing error tolerance checks.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.draw_arc" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#348-355">Source</a><h4 class="code-header">fn <a href="#method.draw_arc" class="fn">draw_arc</a>(&amp;self, rec: &amp;<a class="struct" href="struct.OffsetRec.html" title="struct kurbo::offset::OffsetRec">OffsetRec</a>) -&gt; (<a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>, <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>)</h4></section></summary><div class="docblock"><p>Compute arc approximation.</p>
<p>This is called “arc drawing” because if we just look at the delta
vector, it describes an arc from the initial unit normal to the final unit
normal, with “as smooth as possible” parametrization. This approximation
is not necessarily great, but is very robust, and in particular, accuracy
does not degrade for J shaped near-cusp source curves or when the offset
distance is large (with respect to the source curve arc length).</p>
<p>It is a pretty good approximation overall and has very clean O(n^4) scaling.
Its worst performance is on curves with a large cubic component, where it
undershoots. The theory is that the least squares refinement improves those
cases.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.eval_err" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#365-399">Source</a><h4 class="code-header">fn <a href="#method.eval_err" class="fn">eval_err</a>(
    &amp;self,
    rec: &amp;<a class="struct" href="struct.OffsetRec.html" title="struct kurbo::offset::OffsetRec">OffsetRec</a>,
    c_approx: <a class="struct" href="../struct.CubicBez.html" title="struct kurbo::CubicBez">CubicBez</a>,
    ts: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>; <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.array.html">8</a>],
) -&gt; <a class="struct" href="struct.ErrEval.html" title="struct kurbo::offset::ErrEval">ErrEval</a></h4></section></summary><div class="docblock"><p>Evaluate error and also refine t values.</p>
<p>Returns evaluation of error including error vectors and (squared)
maximum error.</p>
<p>The vector of t values represents points on the source curve; the logic
here is a Newton step to bring those points closer to the normal ray of
the approximation.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.refine_least_squares" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#422-447">Source</a><h4 class="code-header">fn <a href="#method.refine_least_squares" class="fn">refine_least_squares</a>(
    &amp;self,
    rec: &amp;<a class="struct" href="struct.OffsetRec.html" title="struct kurbo::offset::OffsetRec">OffsetRec</a>,
    a: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    b: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    err: &amp;<a class="struct" href="struct.ErrEval.html" title="struct kurbo::offset::ErrEval">ErrEval</a>,
) -&gt; (<a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>, <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>)</h4></section></summary><div class="docblock"><p>Refine an approximation, minimizing least squares error.</p>
<p>Compute the approximation that minimizes least squares error, based on the given error
evaluation.</p>
<p>The effectiveness of this refinement varies. Basically, if the curve has a large cubic
component, then the arc drawing will undershoot systematically and this refinement will
reduce error considerably. In other cases, it will eventually converge to a local
minimum, but convergence is slow.</p>
<p>The <code>BLEND</code> parameter controls a tradeoff between robustness and speed of convergence.
In the happy case, convergence is fast and not very sensitive to this parameter. If the
parameter is too small, then in near-parabola cases the determinant will be small and
the result not numerically stable.</p>
<p>A value of 1.0 for <code>BLEND</code> corresponds to essentially the Hoschek method, minimizing
Euclidean distance (which tends to over-anchor on the given t values). A value of 0 would
minimize the dot product of error wrt the normal vector, ignoring the cross product
component.</p>
<p>A possible future direction would be to tune the parameter adaptively.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.find_subdivision_point" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#459-517">Source</a><h4 class="code-header">fn <a href="#method.find_subdivision_point" class="fn">find_subdivision_point</a>(&amp;self, rec: &amp;<a class="struct" href="struct.OffsetRec.html" title="struct kurbo::offset::OffsetRec">OffsetRec</a>) -&gt; <a class="struct" href="struct.SubdivisionPoint.html" title="struct kurbo::offset::SubdivisionPoint">SubdivisionPoint</a></h4></section></summary><div class="docblock"><p>Decide where to subdivide when error is exceeded.</p>
<p>For curves not containing an inflection point, subdivide at the tangent
bisecting the endpoint tangents. The logic is that for a near cusp in the
source curve, you want the subdivided sections to be approximately
circular arcs with progressively smaller angles.</p>
<p>When there is an inflection point (or, more specifically, when the curve
crosses its chord), bisecting the angle can lead to very lopsided arc
lengths, so just subdivide by t in that case.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.subdivide_for_tangent" class="method"><a class="src rightside" href="../../src/kurbo/offset.rs.html#527-577">Source</a><h4 class="code-header">fn <a href="#method.subdivide_for_tangent" class="fn">subdivide_for_tangent</a>(
    &amp;self,
    utan0: <a class="struct" href="../struct.Vec2.html" title="struct kurbo::Vec2">Vec2</a>,
    t0: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    t1: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.f64.html">f64</a>,
    tan: <a class="struct" href="../struct.Vec2.html" title="struct kurbo::Vec2">Vec2</a>,
    force: <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.SubdivisionPoint.html" title="struct kurbo::offset::SubdivisionPoint">SubdivisionPoint</a>&gt;</h4></section></summary><div class="docblock"><p>Find a subdivision point, given a tangent vector.</p>
<p>When subdividing by bisecting the angle (or, more generally, subdividing by
the L1 norm of curvature when there are inflection points), we find the
subdivision point by solving for the tangent matching, specifically the
cross-product of the tangent and the curve’s derivative being zero. For
internal cusps, subdividing near the cusp is a good thing, but there is
still a robustness concern for vanishing derivative at the endpoints.</p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-CubicOffset" class="impl"><a href="#impl-Freeze-for-CubicOffset" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.CubicOffset.html" title="struct kurbo::offset::CubicOffset">CubicOffset</a></h3></section><section id="impl-RefUnwindSafe-for-CubicOffset" class="impl"><a href="#impl-RefUnwindSafe-for-CubicOffset" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.CubicOffset.html" title="struct kurbo::offset::CubicOffset">CubicOffset</a></h3></section><section id="impl-Send-for-CubicOffset" class="impl"><a href="#impl-Send-for-CubicOffset" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.CubicOffset.html" title="struct kurbo::offset::CubicOffset">CubicOffset</a></h3></section><section id="impl-Sync-for-CubicOffset" class="impl"><a href="#impl-Sync-for-CubicOffset" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.CubicOffset.html" title="struct kurbo::offset::CubicOffset">CubicOffset</a></h3></section><section id="impl-Unpin-for-CubicOffset" class="impl"><a href="#impl-Unpin-for-CubicOffset" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.CubicOffset.html" title="struct kurbo::offset::CubicOffset">CubicOffset</a></h3></section><section id="impl-UnwindSafe-for-CubicOffset" class="impl"><a href="#impl-UnwindSafe-for-CubicOffset" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.CubicOffset.html" title="struct kurbo::offset::CubicOffset">CubicOffset</a></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/any.rs.html#138">Source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/any.rs.html#139">Source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.91.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.91.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.91.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/borrow.rs.html#212">Source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/borrow.rs.html#214">Source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.91.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.91.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/borrow.rs.html#221">Source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/borrow.rs.html#222">Source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.91.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.91.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#785">Source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#788">Source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.91.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#767-769">Source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#777">Source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.91.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.91.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#827-829">Source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#831">Source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#834">Source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#811-813">Source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#815">Source</a><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.91.0/src/core/convert/mod.rs.html#818">Source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.91.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>