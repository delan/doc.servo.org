<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="HTML Tables (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»"><title>layout::table - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="layout" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)" data-channel="1.91.0" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module table</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../layout/index.html">layout</a><span class="version">0.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module table</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#html-tables--" title="HTML Tables (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»">HTML Tables (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»</a><ul><li><a href="#box-tree-construction" title="Box Tree Construction">Box Tree Construction</a></li><li><a href="#fragment-tree-construction" title="Fragment Tree Construction">Fragment Tree Construction</a></li></ul></li></ul><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate layout</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">layout</a></div><h1>Module <span>table</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/layout/table/mod.rs.html#4-434">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="html-tables--"><a class="doc-anchor" href="#html-tables--">Â§</a>HTML Tables (â•¯Â°â–¡Â°)â•¯ï¸µ â”»â”â”»</h2>
<p>This implementation is based on the <a href="https://html.spec.whatwg.org/multipage/#tables">table section of the HTML 5 Specification</a>,
the draft <a href="https://drafts.csswg.org/css-tables">CSS Table Module Level! 3</a> and the <a href="https://source.chromium.org/chromium/chromium/src/third_party/+/main:blink/renderer/core/layout/table">LayoutNG implementation of tables</a> in Blink.
In general, the draft specification differs greatly from what other browsers do, so we
generally follow LayoutNG when in question.</p>
<p>Table layout is divided into two phases:</p>
<ol>
<li>Box Tree Construction</li>
<li>Fragment Tree Construction</li>
</ol>
<h3 id="box-tree-construction"><a class="doc-anchor" href="#box-tree-construction">Â§</a>Box Tree Construction</h3>
<p>During box tree construction, table layout (<code>construct.rs</code>) will traverse the DOM and construct
the basic box tree representation of a table, using the structs defined in this file (<a href="struct.Table.html" title="struct layout::table::Table"><code>Table</code></a>,
<a href="struct.TableTrackGroup.html" title="struct layout::table::TableTrackGroup"><code>TableTrackGroup</code></a>, <a href="struct.TableTrack.html" title="struct layout::table::TableTrack"><code>TableTrack</code></a>, etc). When processing the DOM, elements are handled
differently depending on their <code>display</code> value. For instance, an element with <code>display: table-cell</code> is treated as a table cell. HTML table elements like <code>&lt;table&gt;</code> and <code>&lt;td&gt;</code> are
assigned the corresponding display value from the user agent stylesheet.</p>
<p>Every <a href="struct.Table.html" title="struct layout::table::Table"><code>Table</code></a> holds an array of <a href="enum.TableSlot.html" title="enum layout::table::TableSlot"><code>TableSlot</code></a>. A <a href="enum.TableSlot.html" title="enum layout::table::TableSlot"><code>TableSlot</code></a> represents either a cell, a cell
location occupied by a cell originating from another place in the table, or is empty. In
addition, when there are table model errors, a slot may spanned by more than one cell.</p>
<p>During processing, the box tree construction agorithm will also fix up table structure, for
instance, creating anonymous rows for lone table cells and putting non-table content into
anonymous cells. In addition, flow layout will collect table elements outside of tables and create
anonymous tables for them.</p>
<p>After processing, box tree construction does a fix up pass on tables, converting rowspan=0 into
definite rowspan values and making sure that rowspan and celspan values are not larger than the
table itself. Finally, row groups may be reordered to enforce the fact that the first <code>&lt;thead&gt;</code>
comes before <code>&lt;tbody&gt;</code> which comes before the first <code>&lt;tfoot&gt;</code>.</p>
<h3 id="fragment-tree-construction"><a class="doc-anchor" href="#fragment-tree-construction">Â§</a>Fragment Tree Construction</h3>
<p>Fragment tree construction involves calculating the size and positioning of all table elements,
given their style, content, and cell and row spans. This happens both during intrinsic inline
size computation as well as layout into Fragments. In both of these cases, measurement and
layout is done by <a href="layout/struct.TableLayout.html" title="struct layout::table::layout::TableLayout"><code>layout::TableLayout</code></a>, though for intrinsic size computation only a partial
layout is done.</p>
<p>In general, we follow the following steps when laying out table content:</p>
<ol>
<li>Compute track constrainedness and has originating cells</li>
<li>Compute cell measures</li>
<li>Compute column measures</li>
<li>Compute intrinsic inline sizes for columns and the table</li>
<li>Compute the final table inline size</li>
<li>Distribute size to columns</li>
<li>Do first pass cell layout</li>
<li>Do row layout</li>
<li>Compute table height and final row sizes</li>
<li>Create fragments for table elements (columns, column groups, rows, row groups, cells)</li>
</ol>
<p>For intrinsic size computation this process stops at step 4.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="mod" href="construct/index.html" title="mod layout::table::construct">construct</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="mod" href="layout/index.html" title="mod layout::table::layout">layout</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.CollapsedBorder.html" title="struct layout::table::CollapsedBorder">Collapsed<wbr>Border</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>A calculated collapsed border.</dd><dt><a class="struct" href="struct.SpecificTableGridInfo.html" title="struct layout::table::SpecificTableGridInfo">Specific<wbr>Table<wbr>Grid<wbr>Info</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="struct" href="struct.Table.html" title="struct layout::table::Table">Table</a></dt><dt><a class="struct" href="struct.TableBuilder.html" title="struct layout::table::TableBuilder">Table<wbr>Builder</a></dt><dt><a class="struct" href="struct.TableCaption.html" title="struct layout::table::TableCaption">Table<wbr>Caption</a></dt><dt><a class="struct" href="struct.TableLayoutStyle.html" title="struct layout::table::TableLayoutStyle">Table<wbr>Layout<wbr>Style</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="struct" href="struct.TableSlotCell.html" title="struct layout::table::TableSlotCell">Table<wbr>Slot<wbr>Cell</a></dt><dt><a class="struct" href="struct.TableTrack.html" title="struct layout::table::TableTrack">Table<wbr>Track</a></dt><dd>A row or column of a table.</dd><dt><a class="struct" href="struct.TableTrackGroup.html" title="struct layout::table::TableTrackGroup">Table<wbr>Track<wbr>Group</a></dt></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.TableLevelBox.html" title="enum layout::table::TableLevelBox">Table<wbr>Level<wbr>Box</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Table parts that are stored in the DOM. This is used in order to map from
the DOM to the box tree and will eventually be important for incremental
layout.</dd><dt><a class="enum" href="enum.TableSlot.html" title="enum layout::table::TableSlot">Table<wbr>Slot</a></dt><dd>A single table slot. It may be an actual cell, or a reference
to a previous cell that is spanned here</dd><dt><a class="enum" href="enum.TableTrackGroupType.html" title="enum layout::table::TableTrackGroupType">Table<wbr>Track<wbr>Group<wbr>Type</a></dt></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.CollapsedBorderLine.html" title="type layout::table::CollapsedBorderLine">Collapsed<wbr>Border<wbr>Line</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>Represents a piecewise sequence of collapsed borders along a line.</dd><dt><a class="type" href="type.TableSize.html" title="type layout::table::TableSize">Table<wbr>Size</a></dt><dt><a class="type" href="type.TableSlotCoordinates.html" title="type layout::table::TableSlotCoordinates">Table<wbr>Slot<wbr>Coordinates</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dt><a class="type" href="type.TableSlotOffset.html" title="type layout::table::TableSlotOffset">Table<wbr>Slot<wbr>Offset</a></dt></dl></section></div></main></body></html>