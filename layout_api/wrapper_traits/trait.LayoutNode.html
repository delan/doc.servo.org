<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A wrapper so that layout can access only the methods that it should have access to. Layout must only ever see these and must never see instances of `LayoutDom`. FIXME(mrobinson): `Send + Sync` is required here for Layout 2020, but eventually it should stop sending LayoutNodes to other threads and rely on ThreadSafeLayoutNode or some other mechanism to ensure thread safety."><title>LayoutNode in layout_api::wrapper_traits - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="layout_api" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)" data-channel="1.91.0" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">LayoutNode</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../layout_api/index.html">layout_<wbr>api</a><span class="version">0.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Layout<wbr>Node</a></h2><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.ConcreteThreadSafeLayoutNode" title="ConcreteThreadSafeLayoutNode">ConcreteThreadSafeLayoutNode</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.initialize_style_and_layout_data" title="initialize_style_and_layout_data">initialize_style_and_layout_data</a></li><li><a href="#tymethod.is_connected" title="is_connected">is_connected</a></li><li><a href="#tymethod.layout_data" title="layout_data">layout_data</a></li><li><a href="#tymethod.style_data" title="style_data">style_data</a></li><li><a href="#tymethod.to_threadsafe" title="to_threadsafe">to_threadsafe</a></li><li><a href="#tymethod.type_id" title="type_id">type_id</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.rev_children" title="rev_children">rev_children</a></li><li><a href="#method.traverse_preorder" title="traverse_preorder">traverse_preorder</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In layout_<wbr>api::<wbr>wrapper_<wbr>traits</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">layout_api</a>::<wbr><a href="index.html">wrapper_traits</a></div><h1>Trait <span class="trait">Layout<wbr>Node</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/layout_api/wrapper_traits.rs.html#39-74">Source</a> </span></div><pre class="rust item-decl"><code>pub trait LayoutNode&lt;'dom&gt;:
    <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>
    + <a class="trait" href="../../style/dom/trait.TNode.html" title="trait style::dom::TNode">TNode</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.91.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    type <a href="#associatedtype.ConcreteThreadSafeLayoutNode" class="associatedtype">ConcreteThreadSafeLayoutNode</a>: <a class="trait" href="trait.ThreadSafeLayoutNode.html" title="trait layout_api::wrapper_traits::ThreadSafeLayoutNode">ThreadSafeLayoutNode</a>&lt;'dom&gt;;

    // Required methods
    fn <a href="#tymethod.to_threadsafe" class="fn">to_threadsafe</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.LayoutNode.html#associatedtype.ConcreteThreadSafeLayoutNode" title="type layout_api::wrapper_traits::LayoutNode::ConcreteThreadSafeLayoutNode">ConcreteThreadSafeLayoutNode</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="enum" href="../enum.LayoutNodeType.html" title="enum layout_api::LayoutNodeType">LayoutNodeType</a>;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.initialize_style_and_layout_data" class="fn">initialize_style_and_layout_data</a>&lt;RequestedLayoutDataType: <a class="trait" href="trait.LayoutDataTrait.html" title="trait layout_api::wrapper_traits::LayoutDataTrait">LayoutDataTrait</a>&gt;(
        &amp;self,
    );
<span class="item-spacer"></span>    fn <a href="#tymethod.style_data" class="fn">style_data</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'dom <a class="struct" href="../struct.StyleData.html" title="struct layout_api::StyleData">StyleData</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.layout_data" class="fn">layout_data</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'dom <a class="type" href="../type.GenericLayoutData.html" title="type layout_api::GenericLayoutData">GenericLayoutData</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.is_connected" class="fn">is_connected</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.bool.html">bool</a>;

    // Provided methods
    fn <a href="#method.rev_children" class="fn">rev_children</a>(self) -&gt; <a class="struct" href="../../style/dom/struct.LayoutIterator.html" title="struct style::dom::LayoutIterator">LayoutIterator</a>&lt;<a class="struct" href="struct.ReverseChildrenIterator.html" title="struct layout_api::wrapper_traits::ReverseChildrenIterator">ReverseChildrenIterator</a>&lt;Self&gt;&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.traverse_preorder" class="fn">traverse_preorder</a>(self) -&gt; <a class="struct" href="struct.TreeIterator.html" title="struct layout_api::wrapper_traits::TreeIterator">TreeIterator</a>&lt;Self&gt; <a href="#" class="tooltip" data-notable-ty="TreeIterator&lt;Self&gt;">ⓘ</a> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A wrapper so that layout can access only the methods that it should have access to. Layout must
only ever see these and must never see instances of <code>LayoutDom</code>.
FIXME(mrobinson): <code>Send + Sync</code> is required here for Layout 2020, but eventually it
should stop sending LayoutNodes to other threads and rely on ThreadSafeLayoutNode
or some other mechanism to ensure thread safety.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.ConcreteThreadSafeLayoutNode" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#40">Source</a><h4 class="code-header">type <a href="#associatedtype.ConcreteThreadSafeLayoutNode" class="associatedtype">ConcreteThreadSafeLayoutNode</a>: <a class="trait" href="trait.ThreadSafeLayoutNode.html" title="trait layout_api::wrapper_traits::ThreadSafeLayoutNode">ThreadSafeLayoutNode</a>&lt;'dom&gt;</h4></section></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><section id="tymethod.to_threadsafe" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#41">Source</a><h4 class="code-header">fn <a href="#tymethod.to_threadsafe" class="fn">to_threadsafe</a>(&amp;self) -&gt; Self::<a class="associatedtype" href="trait.LayoutNode.html#associatedtype.ConcreteThreadSafeLayoutNode" title="type layout_api::wrapper_traits::LayoutNode::ConcreteThreadSafeLayoutNode">ConcreteThreadSafeLayoutNode</a></h4></section><details class="toggle method-toggle" open><summary><section id="tymethod.type_id" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#44">Source</a><h4 class="code-header">fn <a href="#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="enum" href="../enum.LayoutNodeType.html" title="enum layout_api::LayoutNodeType">LayoutNodeType</a></h4></section></summary><div class="docblock"><p>Returns the type ID of this node.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.initialize_style_and_layout_data" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#53">Source</a><h4 class="code-header">unsafe fn <a href="#tymethod.initialize_style_and_layout_data" class="fn">initialize_style_and_layout_data</a>&lt;RequestedLayoutDataType: <a class="trait" href="trait.LayoutDataTrait.html" title="trait layout_api::wrapper_traits::LayoutDataTrait">LayoutDataTrait</a>&gt;(
    &amp;self,
)</h4></section></summary><div class="docblock"><p>Initialize this node with empty style and opaque layout data.</p>
<h5 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h5>
<p>This method is unsafe because it modifies the given node during
layout. Callers should ensure that no other layout thread is
attempting to read or modify the opaque layout data of this node.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.style_data" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#56">Source</a><h4 class="code-header">fn <a href="#tymethod.style_data" class="fn">style_data</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'dom <a class="struct" href="../struct.StyleData.html" title="struct layout_api::StyleData">StyleData</a>&gt;</h4></section></summary><div class="docblock"><p>Get the <a href="../struct.StyleData.html" title="struct layout_api::StyleData"><code>StyleData</code></a> for this node. Returns None if the node is unstyled.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.layout_data" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#60">Source</a><h4 class="code-header">fn <a href="#tymethod.layout_data" class="fn">layout_data</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'dom <a class="type" href="../type.GenericLayoutData.html" title="type layout_api::GenericLayoutData">GenericLayoutData</a>&gt;</h4></section></summary><div class="docblock"><p>Get the layout data of this node, attempting to downcast it to the desired type.
Returns None if there is no layout data or it isn’t of the desired type.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.is_connected" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#73">Source</a><h4 class="code-header">fn <a href="#tymethod.is_connected" class="fn">is_connected</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns whether the node is connected.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><section id="method.rev_children" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#62-66">Source</a><h4 class="code-header">fn <a href="#method.rev_children" class="fn">rev_children</a>(self) -&gt; <a class="struct" href="../../style/dom/struct.LayoutIterator.html" title="struct style::dom::LayoutIterator">LayoutIterator</a>&lt;<a class="struct" href="struct.ReverseChildrenIterator.html" title="struct layout_api::wrapper_traits::ReverseChildrenIterator">ReverseChildrenIterator</a>&lt;Self&gt;&gt;</h4></section><section id="method.traverse_preorder" class="method"><a class="src rightside" href="../../src/layout_api/wrapper_traits.rs.html#68-70">Source</a><h4 class="code-header">fn <a href="#method.traverse_preorder" class="fn">traverse_preorder</a>(self) -&gt; <a class="struct" href="struct.TreeIterator.html" title="struct layout_api::wrapper_traits::TreeIterator">TreeIterator</a>&lt;Self&gt; <a href="#" class="tooltip" data-notable-ty="TreeIterator&lt;Self&gt;">ⓘ</a></h4></section></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.91.0/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../trait.impl/layout_api/wrapper_traits/trait.LayoutNode.js" async></script><script type="text/json" id="notable-traits-data">{"TreeIterator<Self>":"<h3>Notable traits for <code><a class=\"struct\" href=\"struct.TreeIterator.html\" title=\"struct layout_api::wrapper_traits::TreeIterator\">TreeIterator</a>&lt;ConcreteNode&gt;</code></h3><pre><code><div class=\"where\">impl&lt;'dom, ConcreteNode&gt; <a class=\"trait\" href=\"https://doc.rust-lang.org/1.91.0/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"struct.TreeIterator.html\" title=\"struct layout_api::wrapper_traits::TreeIterator\">TreeIterator</a>&lt;ConcreteNode&gt;<div class=\"where\">where\n    ConcreteNode: <a class=\"trait\" href=\"trait.LayoutNode.html\" title=\"trait layout_api::wrapper_traits::LayoutNode\">LayoutNode</a>&lt;'dom&gt;,</div></div><div class=\"where\">    type <a href=\"https://doc.rust-lang.org/1.91.0/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = ConcreteNode;</div>"}</script></section></div></main></body></html>