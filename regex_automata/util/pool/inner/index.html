<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `inner` mod in crate `regex_automata`."><title>regex_automata::util::pool::inner - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="regex_automata" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)" data-channel="1.91.0" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module inner</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../regex_automata/index.html">regex_<wbr>automata</a><span class="version">0.4.13</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module inner</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#statics" title="Statics">Statics</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In regex_<wbr>automata::<wbr>util::<wbr>pool</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">regex_automata</a>::<wbr><a href="../../index.html">util</a>::<wbr><a href="../index.html">pool</a></div><h1>Module <span>inner</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/regex_automata/util/pool.rs.html#235">Source</a> </span></div><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.CacheLine.html" title="struct regex_automata::util::pool::inner::CacheLine">Cache<wbr>Line</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>This puts each stack in the pool below into its own cache line. This is
an absolutely critical optimization that tends to have the most impact
in high contention workloads. Without forcing each mutex protected
into its own cache line, high contention exacerbates the performance
problem by causing â€œfalse sharing.â€ By putting each mutex in its own
cache-line, we avoid the false sharing problem and the affects of
contention are greatly reduced.</dd><dt><a class="struct" href="struct.Pool.html" title="struct regex_automata::util::pool::inner::Pool">Pool</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>A thread safe pool utilizing std-only features.</dd><dt><a class="struct" href="struct.PoolGuard.html" title="struct regex_automata::util::pool::inner::PoolGuard">Pool<wbr>Guard</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>A guard that is returned when a caller requests a value from the pool.</dd></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.MAX_POOL_STACKS.html" title="constant regex_automata::util::pool::inner::MAX_POOL_STACKS">MAX_<wbr>POOL_<wbr>STACKS</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>The number of stacks we use inside of the pool. These are only used for
non-owners. That is, these represent the â€œslowâ€ path.</dd><dt><a class="constant" href="constant.THREAD_ID.html" title="constant regex_automata::util::pool::inner::THREAD_ID">THREAD_<wbr>ID</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>A thread local used to assign an ID to a thread.</dd></dl><h2 id="statics" class="section-header">Statics<a href="#statics" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="static" href="static.COUNTER.html" title="static regex_automata::util::pool::inner::COUNTER">COUNTER</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>An atomic counter used to allocate thread IDs.</dd><dt><a class="static" href="static.THREAD_ID_DROPPED.html" title="static regex_automata::util::pool::inner::THREAD_ID_DROPPED">THREAD_<wbr>ID_<wbr>DROPPED</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>This sentinel is used to indicate that a guard has already been dropped
and should not be re-dropped. We use this because our drop code can be
called outside of Drop and thus there could be a bug in the internal
implementation that results in trying to put the same guard back into
the same pool multiple times, and <em>that</em> could result in UB if we
didnâ€™t mark the guard as already having been put back in the pool.</dd><dt><a class="static" href="static.THREAD_ID_INUSE.html" title="static regex_automata::util::pool::inner::THREAD_ID_INUSE">THREAD_<wbr>ID_<wbr>INUSE</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>A thread ID indicating that the special owner value is in use and not
available. This state is useful for avoiding a case where the owner
of a pool calls <code>get</code> before putting the result of a previous <code>get</code>
call back into the pool.</dd><dt><a class="static" href="static.THREAD_ID_UNOWNED.html" title="static regex_automata::util::pool::inner::THREAD_ID_UNOWNED">THREAD_<wbr>ID_<wbr>UNOWNED</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </dt><dd>A thread ID indicating that there is no owner. This is the initial
state of a pool. Once a pool has an owner, there is no way to change
it.</dd></dl></section></div></main></body></html>