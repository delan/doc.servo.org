<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Native representation of JS Promise values."><title>script::dom::promise - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="script" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)" data-channel="1.91.0" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module promise</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../script/index.html">script</a><span class="version">0.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module promise</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In script::<wbr>dom</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">script</a>::<wbr><a href="../index.html">dom</a></div><h1>Module <span>promise</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/script/dom/promise.rs.html#5-663">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Native representation of JS Promise values.</p>
<p>This implementation differs from the traditional Rust DOM object, because the reflector
is provided by SpiderMonkey and has no knowledge of an associated native representation
(ie. dom::Promise). This means that native instances use native reference counting (Rc)
to ensure that no memory is leaked, which means that there can be multiple instances of
native Promise values that refer to the same JS value yet are distinct native objects
(ie. address equality for the native objects is meaningless).</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Promise.html" title="struct script::dom::promise::Promise">Promise</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="struct" href="struct.WaitForAllFulfillmentHandler.html" title="struct script::dom::promise::WaitForAllFulfillmentHandler">Wait<wbr>ForAll<wbr>Fulfillment<wbr>Handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>The fulfillment handler for the list of promises in
<a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a>.</dd><dt><a class="struct" href="struct.WaitForAllRejectionHandler.html" title="struct script::dom::promise::WaitForAllRejectionHandler">Wait<wbr>ForAll<wbr>Rejection<wbr>Handler</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>The rejection handler for the list of promises in
<a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a>.</dd><dt><a class="struct" href="struct.WaitForAllSuccessStepsMicrotask.html" title="struct script::dom::promise::WaitForAllSuccessStepsMicrotask">Wait<wbr>ForAll<wbr>Success<wbr>Steps<wbr>Microtask</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>The microtask for performing successSteps given Â« Â» in
<a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a>.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.NativeHandlerTask.html" title="enum script::dom::promise::NativeHandlerTask">Native<wbr>Handler<wbr>Task</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.SLOT_NATIVEHANDLER.html" title="constant script::dom::promise::SLOT_NATIVEHANDLER">SLOT_<wbr>NATIVEHANDLER</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="constant" href="constant.SLOT_NATIVEHANDLER_TASK.html" title="constant script::dom::promise::SLOT_NATIVEHANDLER_TASK">SLOT_<wbr>NATIVEHANDLER_<wbr>TASK</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="constant" href="constant._IMPL_DOMOBJECT_FOR_Promise.html" title="constant script::dom::promise::_IMPL_DOMOBJECT_FOR_Promise">_IMPL_<wbr>DOMOBJECT_<wbr>FOR_<wbr>Promise</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.PromiseHelper.html" title="trait script::dom::promise::PromiseHelper">Promise<wbr>Helper</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Private helper to enable adding new methods to <code>Rc&lt;Promise&gt;</code>.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.create_native_handler_function.html" title="fn script::dom::promise::create_native_handler_function">create_<wbr>native_<wbr>handler_<wbr>function</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="fn" href="fn.do_nothing_promise_executor.html" title="fn script::dom::promise::do_nothing_promise_executor">do_<wbr>nothing_<wbr>promise_<wbr>executor</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <sup title="unsafe function">âš </sup></dt><dt><a class="fn" href="fn.native_handler_callback.html" title="fn script::dom::promise::native_handler_callback">native_<wbr>handler_<wbr>callback</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> <sup title="unsafe function">âš </sup></dt><dt><a class="fn" href="fn.wait_for_all.html" title="fn script::dom::promise::wait_for_all">wait_<wbr>for_<wbr>all</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd><a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a></dd><dt><a class="fn" href="fn.wait_for_all_promise.html" title="fn script::dom::promise::wait_for_all_promise">wait_<wbr>for_<wbr>all_<wbr>promise</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd><a href="https://webidl.spec.whatwg.org/#waiting-for-all-promise">https://webidl.spec.whatwg.org/#waiting-for-all-promise</a></dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.WaitForAllFailureSteps.html" title="type script::dom::promise::WaitForAllFailureSteps">Wait<wbr>ForAll<wbr>Failure<wbr>Steps</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>The failure steps of <a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a></dd><dt><a class="type" href="type.WaitForAllSuccessSteps.html" title="type script::dom::promise::WaitForAllSuccessSteps">Wait<wbr>ForAll<wbr>Success<wbr>Steps</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>The success steps of <a href="https://webidl.spec.whatwg.org/#wait-for-all">https://webidl.spec.whatwg.org/#wait-for-all</a></dd></dl></section></div></main></body></html>