<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Taffy"><title>taffy::readme_doctest - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="taffy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)" data-channel="1.91.0" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module readme_doctest</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../taffy/index.html">taffy</a><span class="version">0.9.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module readme_<wbr>doctest</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#taffy" title="Taffy">Taffy</a><ul><li><a href="#usage" title="Usage">Usage</a></li><li><a href="#bindings-to-other-languages" title="Bindings to other languages">Bindings to other languages</a></li><li><a href="#learning-resources" title="Learning Resources">Learning Resources</a></li><li><a href="#benchmarks-vs-yoga" title="Benchmarks (vs. Yoga)">Benchmarks (vs. Yoga)</a></li><li><a href="#contributions" title="Contributions">Contributions</a></li></ul></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate taffy</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">taffy</a></div><h1>Module <span>readme_<wbr>doctest</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/taffy/lib.rs.html#96">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="taffy"><a class="doc-anchor" href="#taffy">§</a>Taffy</h2>
<p><a href="https://github.com/DioxusLabs/taffy/actions/workflows/ci.yml"><img src="https://github.com/DioxusLabs/taffy/actions/workflows/ci.yml/badge.svg" alt="GitHub CI" /></a>
<a href="https://crates.io/crates/taffy"><img src="https://img.shields.io/crates/v/taffy.svg" alt="crates.io" /></a>
<a href="https://docs.rs/taffy"><img src="https://img.shields.io/docsrs/taffy" alt="docs.rs" /></a></p>
<p>Taffy is a flexible, high-performance, cross-platform UI layout library written in <a href="https://www.rust-lang.org">Rust</a>.</p>
<p>It currently implements the CSS <strong>Block</strong>, <strong>Flexbox</strong> and <strong>CSS Grid</strong> layout algorithms. Support for other paradigms is planned. For more information on this and other future development plans see the <a href="https://github.com/DioxusLabs/taffy/issues/345">roadmap issue</a>.</p>
<p>This crate is a collaborative, cross-team project, and is designed to be used as a dependency for other UI and GUI libraries.
Right now, it powers:</p>
<ul>
<li><a href="https://github.com/servo/servo">Servo</a>: an alternative web browser</li>
<li><a href="https://github.com/DioxusLabs/blitz">Blitz</a>: a radically modular web engine</li>
<li><a href="https://bevyengine.org/">Bevy</a>: an ergonomic, ECS-first Rust game engine</li>
<li><a href="https://github.com/kane50613/takumi">Takumi</a>: Renders your React components to images</li>
<li><a href="https://github.com/ccbrown/iocraft">iocraft</a>: crafting beautiful interfaces for the terminal</li>
<li>The <a href="https://lapce.dev/">Lapce</a> text editor via the <a href="https://github.com/lapce/floem">Floem</a> UI framework</li>
<li>The <a href="https://zed.dev/">Zed</a> text editor via the <a href="https://github.com/zed-industries/zed/tree/main/crates/gpui">GPUI</a> UI framework</li>
</ul>
<h3 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>taffy::prelude::<span class="kw-2">*</span>;

<span class="comment">// First create an instance of TaffyTree
</span><span class="kw">let </span><span class="kw-2">mut </span>tree : TaffyTree&lt;()&gt; = TaffyTree::new();

<span class="comment">// Create a tree of nodes using `TaffyTree.new_leaf` and `TaffyTree.new_with_children`.
// These functions both return a node id which can be used to refer to that node
// The Style struct is used to specify styling information
</span><span class="kw">let </span>header_node = tree
    .new_leaf(
        Style {
            size: Size { width: length(<span class="number">800.0</span>), height: length(<span class="number">100.0</span>) },
            ..Default::default()
        },
    ).unwrap();

<span class="kw">let </span>body_node = tree
    .new_leaf(
        Style {
            size: Size { width: length(<span class="number">800.0</span>), height: auto() },
            flex_grow: <span class="number">1.0</span>,
            ..Default::default()
        },
    ).unwrap();

<span class="kw">let </span>root_node = tree
    .new_with_children(
        Style {
            flex_direction: FlexDirection::Column,
            size: Size { width: length(<span class="number">800.0</span>), height: length(<span class="number">600.0</span>) },
            ..Default::default()
        },
        <span class="kw-2">&amp;</span>[header_node, body_node],
    )
    .unwrap();

<span class="comment">// Call compute_layout on the root of your tree to run the layout algorithm
</span>tree.compute_layout(root_node, Size::MAX_CONTENT).unwrap();

<span class="comment">// Inspect the computed layout using `TaffyTree.layout`
</span><span class="macro">assert_eq!</span>(tree.layout(root_node).unwrap().size.width, <span class="number">800.0</span>);
<span class="macro">assert_eq!</span>(tree.layout(root_node).unwrap().size.height, <span class="number">600.0</span>);
<span class="macro">assert_eq!</span>(tree.layout(header_node).unwrap().size.width, <span class="number">800.0</span>);
<span class="macro">assert_eq!</span>(tree.layout(header_node).unwrap().size.height, <span class="number">100.0</span>);
<span class="macro">assert_eq!</span>(tree.layout(body_node).unwrap().size.width, <span class="number">800.0</span>);
<span class="macro">assert_eq!</span>(tree.layout(body_node).unwrap().size.height, <span class="number">500.0</span>); <span class="comment">// This value was not set explicitly, but was computed by Taffy
</span></code></pre></div><h3 id="bindings-to-other-languages"><a class="doc-anchor" href="#bindings-to-other-languages">§</a>Bindings to other languages</h3>
<ul>
<li>Python via <a href="https://github.com/mortencombat/stretchable">stretchable</a></li>
<li><a href="https://github.com/DioxusLabs/taffy/pull/404">WIP C bindings</a></li>
<li><a href="https://github.com/DioxusLabs/taffy/pull/394">WIP WASM bindings</a></li>
</ul>
<h3 id="learning-resources"><a class="doc-anchor" href="#learning-resources">§</a>Learning Resources</h3>
<p>Taffy implements the Flexbox and CSS Grid specifications faithfully, so documentation designed for the web should translate cleanly to Taffy’s implementation. For reference documentation on individual style properties we recommend the MDN documentation (for example <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/width">this page</a> on the <code>width</code> property). Such pages can usually be found by searching for “MDN property-name” using a search engine.</p>
<p>If you are interested in guide-level documentation on CSS layout, then we recommend the following resources:</p>
<h4 id="flexbox"><a class="doc-anchor" href="#flexbox">§</a>Flexbox</h4>
<ul>
<li><a href="https://flexboxfroggy.com/">Flexbox Froggy</a>. This is an interactive tutorial/game that allows you to learn the essential parts of Flexbox in a fun engaging way.</li>
<li><a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">A Complete Guide To Flexbox</a> by CSS Tricks. This is detailed guide with illustrations and comprehensive written explanation of the different Flexbox properties and how they work.</li>
</ul>
<h4 id="css-grid"><a class="doc-anchor" href="#css-grid">§</a>CSS Grid</h4>
<ul>
<li><a href="https://cssgridgarden.com/">CSS Grid Garden</a>. This is an interactive tutorial/game that allows you to learn the essential parts of CSS Grid in a fun engaging way.</li>
<li><a href="https://css-tricks.com/snippets/css/complete-guide-grid/">A Complete Guide To CSS Grid</a> by CSS Tricks. This is detailed guide with illustrations and comprehensive written explanation of the different CSS Grid properties and how they work.</li>
</ul>
<h3 id="benchmarks-vs-yoga"><a class="doc-anchor" href="#benchmarks-vs-yoga">§</a>Benchmarks (vs. <a href="https://github.com/facebook/yoga">Yoga</a>)</h3>
<ul>
<li>Run on a 2021 MacBook Pro with M1 Pro processor using <a href="https://github.com/bheisler/criterion.rs">criterion</a></li>
<li>The benchmarks measure layout computation only. They do not measure tree creation.</li>
<li>Yoga benchmarks were run via the <a href="https://github.com/bschwind/yoga-rs">yoga</a> crate (Rust bindings)</li>
<li>Most popular websites seem to have between 3,000 and 10,000 nodes (although they also require text layout, which neither yoga nor taffy implement).</li>
</ul>
<p>Note that the table below contains multiple different units (milliseconds vs. microseconds)</p>
<div><table><thead><tr><th>Benchmark</th><th>Node Count</th><th>Depth</th><th>Yoga (<a href="https://github.com/facebook/yoga/commit/ba27f9d1ecfa7518019845b84b035d3d4a2a6658">ba27f9d</a>)</th><th>Taffy (<a href="https://github.com/DioxusLabs/taffy/commit/71027a8de03b343e120852b84bb7dca9fb4651c5">71027a8</a>)</th></tr></thead><tbody>
<tr><td>yoga ‘huge nested’</td><td>1,000</td><td>3</td><td>364.60 µs</td><td>329.04 µs</td></tr>
<tr><td>yoga ‘huge nested’</td><td>10,000</td><td>4</td><td>4.1988 ms</td><td>4.3486 ms</td></tr>
<tr><td>yoga ‘huge nested’</td><td>100,000</td><td>5</td><td>45.804 ms</td><td>38.559 ms</td></tr>
<tr><td>big trees (wide)</td><td>1,000</td><td>1</td><td>737.77 µs</td><td>505.99 µs</td></tr>
<tr><td>big trees (wide)</td><td>10,000</td><td>1</td><td>7.1007 ms</td><td>8.3395 ms</td></tr>
<tr><td>big trees (wide)</td><td>100,000</td><td>1</td><td>135.78 ms</td><td>247.42 ms</td></tr>
<tr><td>big trees (deep)</td><td>4,000</td><td>12</td><td>2.2333 ms</td><td>1.7400 ms</td></tr>
<tr><td>big trees (deep)</td><td>10,000</td><td>14</td><td>5.9477 ms</td><td>4.4445 ms</td></tr>
<tr><td>big trees (deep)</td><td>100,000</td><td>17</td><td>76.755 ms</td><td>63.778 ms</td></tr>
<tr><td>super deep</td><td>1,000</td><td>1,000</td><td>555.32 µs</td><td>472.85 µs</td></tr>
</tbody></table>
</div><h3 id="contributions"><a class="doc-anchor" href="#contributions">§</a>Contributions</h3>
<p><a href="https://github.com/DioxusLabs/taffy/blob/main/CONTRIBUTING.md">Contributions welcome</a>:
if you’d like to use, improve or build <code>taffy</code>, feel free to join the conversation, open an <a href="https://github.com/DioxusLabs/taffy/issues">issue</a> or submit a <a href="https://github.com/DioxusLabs/taffy/pulls">PR</a>.
If you have questions about how to use <code>taffy</code>, open a <a href="https://github.com/DioxusLabs/taffy/discussions">discussion</a> so we can answer your questions in a way that others can find.</p>
</div></details></section></div></main></body></html>